(this.webpackJsonpfitness_trackr=this.webpackJsonpfitness_trackr||[]).push([[0],{31:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n(14),a=n.n(s),c=n(4),o=n(7),u=n(1),j=Object(r.createContext)(),i=function(e){var t=e.children,n=Object(r.useState)(""),s=Object(o.a)(n,2),a=s[0],c=s[1],i=Object(r.useState)(""),b=Object(o.a)(i,2),d=b[0],l=b[1],O=Object(r.useState)(!1),h=Object(o.a)(O,2),p=h[0],x=h[1];return Object(u.jsx)(j.Provider,{value:{user:a,setUser:c,token:d,setToken:l,loggedIn:p,setLoggedIn:x},children:t})},b=n(2),d=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b.a,{exact:!0,path:"/",children:Object(u.jsx)(l,{})}),Object(u.jsx)(b.a,{path:"/user/:method",children:Object(u.jsx)(x,{})})]})};var l=function(){return Object(u.jsx)("div",{children:"Home Page"})},O=n(6),h=n.n(O),p=n(9),x=function(){var e,t=Object(r.useContext)(j),n=t.loggedIn,s=(t.setloggedIn,t.setToken),a=Object(r.useState)(""),c=Object(o.a)(a,2),i=c[0],d=c[1],l=Object(r.useState)(""),O=Object(o.a)(l,2),x=O[0],m=O[1],f=Object(b.f)(),g=Object(b.e)();return Object(r.useEffect)(Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0===n&&g.push("/home");case 1:case"end":return e.stop()}}),e)}))),[n]),Object(u.jsxs)("form",{onSubmit:function(){var e=Object(p.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"register"!=f.method){e.next=6;break}return e.next=4,register({username:i,password:x});case 4:(n=e.sent)&&!n.name?(s(n.token),setLoggedIn(!0)):alert("failed");case 6:if("login"!=f.method){e.next=12;break}return e.next=9,login({username:i,password:x});case 9:r=e.sent,console.log(r),r&&!r.name&&(s(r.token),setLoggedIn(!0));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(u.jsxs)("h1",{children:[(e=f.method,e.charAt(0).toUpperCase()+e.slice(1))," Page"]}),Object(u.jsx)("label",{htmlFor:"username",children:"Username"}),Object(u.jsx)("input",{type:"text",id:"username",name:" username ",onChange:function(e){d(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"password",children:"Password"}),Object(u.jsx)("input",{type:"password",id:"password",name:" password ",onChange:function(e){m(e.target.value)}}),Object(u.jsx)("button",{children:"Submit"})]})};a.a.render(Object(u.jsx)(c.a,{children:Object(u.jsx)(i,{children:Object(u.jsx)(d,{})})}),document.getElementById("app"))}},[[31,1,2]]]);
//# sourceMappingURL=main.bfcea390.chunk.js.map